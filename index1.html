<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Trial</title>
   

</head>
<body>
    <div id="pano"></div>
    <script src="marzipano.js"></script>
    <script>
     var panoElement = document.getElementById("pano");
        
var viewerOpts = { stageType: 'webgl', stage: { preserveDrawingBuffer: true } };
var viewer = new Marzipano.Viewer(document.getElementById('pano'), viewerOpts);
 console.log("Reached !");
console.log(viewer);

       
//set levels
        var levels = [
            { tileSize: 512, size: 512 },
            { tileSize: 512, size: 1024 }
        ];
       
         var geometry = new Marzipano.EquirectGeometry(levels);
        var source = Marzipano.ImageUrlSource.fromString("base.jpg");
         var view = new Marzipano.RectilinearView();
        
//set initial view
    var initialView = {
    yaw: 0,
    pitch: 0,
    fov: 75
   };
// Create view.
var limiter = Marzipano.RectilinearView.limit.traditional(2048, 120 * Math.PI / 180);
 var view = new Marzipano.RectilinearView(initialView, limiter);

// on click yaw picth value 
var pano = document.getElementById("pano");
pano.addEventListener("click", function (e) {
   var v = viewer.view();
   console.log(v);
console.log(v.screenToCoordinates({x: e.clientX, y: e.clientY}));
})

//create scene
var scene = viewer.createScene({
            source: source,
            geometry: geometry,
            view: view
        });

    scene.switchTo({ transitionDuration: 1000});
    </script>
     
</body>
</html>
